{
  "branch": "feat/ac-calculation-397",
  "issues": ["#397"],
  "goal": "AC Calculation System - event-driven armor class with modifiers, returning ACBreakdown for UI transparency",
  "sessions": [],
  "next_steps": [
    "Create AC types in combat/ac.go (ACSourceType, ACComponent, ACBreakdown, ACChainEvent)",
    "Implement Character.EffectiveAC() method",
    "Wire up chain execution for condition modifiers"
  ],
  "design_notes": {
    "location": "Types in combat/, method on Character",
    "pattern": "Same as DamageBreakdown - types in combat, entity method returns breakdown",
    "key_decisions": [
      "Type = category (ACSourceArmor, ACSourceFeature, etc.)",
      "Source = specific *core.Ref (dnd5e:armor:chain_mail)",
      "Value can be negative for debuffs",
      "Chain execution allows conditions to add components"
    ]
  }
}
