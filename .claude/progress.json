{
  "branch": "fix/sneak-attack-ally-check-422",
  "issues": ["#422"],
  "goal": "Add advantage and ally position checks to Sneak Attack",
  "sessions": [
    {
      "id": "2025-12-15-001",
      "task": "Implement sneak attack conditions (advantage OR ally within 5ft)",
      "status": "completed",
      "artifacts": [
        "rulebooks/dnd5e/events/events.go",
        "rulebooks/dnd5e/gamectx/teams.go",
        "rulebooks/dnd5e/conditions/sneak_attack.go",
        "rulebooks/dnd5e/conditions/sneak_attack_test.go"
      ],
      "commit": "63b323d",
      "notes": "Added HasAdvantage to DamageChainEvent, created team system for ally detection, implemented checkSneakAttackConditions method"
    }
  ],
  "pr": "#435",
  "next_steps": [
    "Await CI results",
    "Merge PR once approved"
  ],
  "verification": {
    "tests_pass": true,
    "linter_pass": true,
    "features_verified": [
      "Sneak Attack triggers with advantage",
      "Sneak Attack triggers with ally within 5ft of target",
      "Sneak Attack does NOT trigger without either condition",
      "Sneak Attack requires finesse/DEX weapon"
    ]
  }
}
